@model StajyerPlatformu.Models.InternProfile

@{
    ViewData["Title"] = "Profil Düzenle";
}

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-white border-bottom-0 pb-0">
                    <h3 class="mb-4">Profil Bilgilerim</h3>
                    <ul class="nav nav-tabs card-header-tabs" id="profileTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="academic-tab" data-bs-toggle="tab" href="#academic" role="tab">Eğitim Bilgileri</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="personal-tab" data-bs-toggle="tab" href="#personal" role="tab">Kişisel Bilgiler</a>
                        </li>
                         <li class="nav-item">
                            <a class="nav-link" id="skills-tab" data-bs-toggle="tab" href="#skills" role="tab">Yetenek & Sosyal</a>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <form asp-action="CreateProfile" enctype="multipart/form-data">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        
                        <div class="tab-content mt-3" id="myTabContent">
                            <!-- ACADEMIC TAB -->
                            <div class="tab-pane fade show active" id="academic" role="tabpanel">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label asp-for="University" class="form-label">Üniversite</label>
                                        <input asp-for="University" class="form-control" placeholder="Örn: İstanbul Teknik Üniversitesi" />
                                        <span asp-validation-for="University" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label asp-for="Department" class="form-label">Bölüm</label>
                                        <input asp-for="Department" class="form-control" placeholder="Örn: Bilgisayar Mühendisliği" />
                                        <span asp-validation-for="Department" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label asp-for="Grade" class="form-label">Sınıf</label>
                                         <select asp-for="Grade" class="form-select">
                                            <option value="">Seçiniz</option>
                                            <option value="Hazırlık">Hazırlık</option>
                                            <option value="1. Sınıf">1. Sınıf</option>
                                            <option value="2. Sınıf">2. Sınıf</option>
                                            <option value="3. Sınıf">3. Sınıf</option>
                                            <option value="4. Sınıf">4. Sınıf</option>
                                            <option value="Mezun">Mezun</option>
                                            <option value="Yüksek Lisans">Yüksek Lisans</option>
                                        </select>
                                        <span asp-validation-for="Grade" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label asp-for="StudentId" class="form-label">Öğrenci Numarası</label>
                                        <input asp-for="StudentId" class="form-control" />
                                        <span asp-validation-for="StudentId" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- PERSONAL TAB -->
                            <div class="tab-pane fade" id="personal" role="tabpanel">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label asp-for="Gender" class="form-label">Cinsiyet</label>
                                        <select asp-for="Gender" class="form-select">
                                            <option value="">Seçiniz</option>
                                            <option value="Kadın">Kadın</option>
                                            <option value="Erkek">Erkek</option>
                                            <option value="Belirtmek İstemiyorum">Belirtmek İstemiyorum</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label asp-for="BirthDate" class="form-label">Doğum Tarihi</label>
                                        <input asp-for="BirthDate" class="form-control" type="date" />
                                        <span asp-validation-for="BirthDate" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="mb-3">
                                     <label class="form-label">Profil Fotoğrafı</label>
                                     <input type="file" name="photoFile" class="form-control" accept="image/*" />
                                     @if (!string.IsNullOrEmpty(Model?.ProfilePhotoPath))
                                     {
                                         <div class="mt-2">
                                             <small class="text-muted">Mevcut Fotoğraf:</small><br/>
                                             <img src="@Model.ProfilePhotoPath" style="height: 50px; width: 50px; object-fit: cover;" class="rounded-circle border" />
                                         </div>
                                     }
                                </div>
                            </div>

                            <!-- SKILLS TAB -->
                            <div class="tab-pane fade" id="skills" role="tabpanel">
                                 <div class="mb-3">
                                    <label class="form-label">CV / Özgeçmiş (PDF)</label>
                                    <input type="file" name="resumeFile" class="form-control" accept=".pdf,.doc,.docx" />
                                     @if (!string.IsNullOrEmpty(Model?.ResumePath))
                                     {
                                         <div class="mt-2 text-success">
                                            <i class="bi bi-check-circle-fill"></i> Mevcut CV Yüklü
                                         </div>
                                     }
                                 </div>
                                 <div class="mb-3">
                                    <label asp-for="LinkedIn" class="form-label">LinkedIn Profil URL</label>
                                    <input asp-for="LinkedIn" class="form-control" placeholder="https://linkedin.com/in/kullaniciadi" />
                                    <span asp-validation-for="LinkedIn" class="text-danger"></span>
                                </div>
                                <div class="mb-3">
                                    <label asp-for="Github" class="form-label">Github Profil URL</label>
                                    <input asp-for="Github" class="form-control" placeholder="https://github.com/kullaniciadi" />
                                    <span asp-validation-for="Github" class="text-danger"></span>
                                </div>
                                <div class="mb-3">
                                    <label asp-for="Skills" class="form-label">Yetenekler</label>
                                    <textarea asp-for="Skills" class="form-control" rows="4" placeholder="C#, Java, Python, SQL... (Virgülle ayırınız)"></textarea>
                                    <span asp-validation-for="Skills" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        <div class="d-grid gap-2 mt-4 d-md-flex justify-content-md-end">
                            <a asp-action="Index" class="btn btn-outline-secondary me-md-2">İptal</a>
                            <button type="submit" class="btn btn-primary px-4">Değişiklikleri Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
